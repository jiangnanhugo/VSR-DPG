# from equation_tree import EquationTree
from equation_tree import sample

#
# equations = sample()
# print(equations)

# equations = sample(n=100, max_num_variables=200, depth=8)
# for x in equations:
#     print(x)

# p = {
#     'structures': {'[0, 1, 2, 3, 3, 2, 3, 4, 4, 1, 2, 3, 3]': .5, '[0, 1, 2, 3, 4, 5, 5, 4, 3, 2, 3, 3]': .5},
#     'features': {'constants': .5, 'variables': .5},
#     'functions': {'sin': .5, 'cos': .5},
#     'operators': {'+': .8, '-': .2}
# }
# equations_with_prior = sample(n=100, prior=p, max_num_variables=100)
# for x in equations_with_prior:
#     print(x)


from equation_tree.sample import burn
from equation_tree.defaults import DEFAULT_PRIOR

prior_0 = {
    'structures': {'[0, 1, 1]': .3, '[0, 1, 2]': .3, '[0, 1, 2, 3, 2, 3, 1]': .4},
    'features': {'constants': .2, 'variables': .8},
    'functions': {'sin': .5, 'cos': .5},
    'operators': {'+': .8, '-': .2}
}

prior_1 = {
    'structures': {'[0, 1, 1]': .3, '[0, 1, 2]': .3, '[0, 1, 2, 3, 2, 3, 1]': .4},
    'features': {'constants': .2, 'variables': .8},
    'functions': {'sin': .5, 'cos': .5},
    'operators': {'+': .5, '-': .5},
    'function_conditionals': {
        'sin': {
            'features': {'constants': 0., 'variables': 1.},
            'functions': {'sin': 0., 'cos': 1.},
            'operators': {'+': .5, '-': .5}
        },
        'cos': {
            'features': {'constants': 0., 'variables': 1.},
            'functions': {'cos': 1., 'sin': 0.},
            'operators': {'+': 0., '-': 1.}
        }
    },
    'operator_conditionals': {
        '+': {
            'features': {'constants': .5, 'variables': .5},
            'functions': {'sin': 1., 'cos': 0.},
            'operators': {'+': 1., '-': 0.}
        },
        '-': {
            'features': {'constants': .3, 'variables': .7},
            'functions': {'cos': .5, 'sin': .5},
            'operators': {'+': .9, '-': .1}
        }
    },
}

prior_2={'features': {'constants': 0.4056818181818182, 'variables': 0.5943181818181819},
 'functions': {'cos': 0.33,  'sin': 0.33, 'tan': 0.34},
         'max_num_variables': 100,
 'operators': {'*': 0.25, '+': 0.25, '-': 0.25, '/': 0.25},
 'structures': {'[0, 1, 1, 2, 2, 3, 3]': 0.008403361344537815, '[0, 1, 1, 2, 2, 3, 4, 4, 3, 4]': 0.008403361344537815,
                '[0, 1, 1, 2, 2]': 0.008403361344537815, '[0, 1, 1, 2, 3, 3, 2, 3, 3]': 0.01680672268907563,
                '[0, 1, 1, 2, 3, 3, 2]': 0.008403361344537815, '[0, 1, 1, 2, 3, 3, 4, 2]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 3, 4, 5, 5, 4, 5, 5]': 0.01680672268907563,
                '[0, 1, 1, 2, 3, 3, 4, 5, 6, 6, 4, 2, 3, 4, 4]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 4, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 4, 3, 2, 3, 4, 5, 6, 6, 5, 6, 7, 8, 8, 7, 6, 7, 4, 5, 5]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 4, 3, 2]': 0.01680672268907563,
                '[0, 1, 1, 2, 3, 4, 4, 5, 5, 6, 3, 4, 5, 5, 4, 2]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 5, 5, 4, 3, 2, 3, 4, 5, 5, 4, 3]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 5, 5, 4, 5, 5, 2, 3, 4, 5, 6, 6, 5, 4, 5, 5]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 5, 5, 4, 5, 5, 2]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 5, 5, 4, 5, 5, 3, 2]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 5, 5, 4, 5, 5, 3, 4, 4]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 5, 5, 4, 5, 6, 7, 7, 6, 5, 2]': 0.008403361344537815,
                '[0, 1, 1, 2, 3, 4, 5, 6, 6, 5, 4, 3, 4, 4]': 0.008403361344537815, '[0, 1, 1]': 0.03361344537815126,
                '[0, 1, 2, 1, 2, 3, 4, 5, 5, 4, 5, 6, 6, 5, 6, 7, 7, 6, 7, 7, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 2, 3, 3]': 0.008403361344537815, '[0, 1, 2, 2, 1, 2, 2, 3, 4, 4, 3, 4, 4]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 2, 3, 4, 4]': 0.008403361344537815, '[0, 1, 2, 2, 1, 2, 2]': 0.04201680672268908,
                '[0, 1, 2, 2, 1, 2, 3, 3, 2, 3, 4, 5, 6, 6, 5, 6, 7, 8, 8, 7, 6, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 3, 3, 2]': 0.01680672268907563, '[0, 1, 2, 2, 1, 2, 3, 3, 4, 5, 5, 2, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 3, 4, 4, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 3, 4, 4, 3, 4, 4, 2]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 3, 4, 4, 3, 4, 4]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 3, 4, 4, 5, 5, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 3, 4, 5, 5, 4, 5, 5, 3, 4, 5, 5, 4, 5, 6, 6, 7, 7, 5]': 0.008403361344537815,
                '[0, 1, 2, 2, 1, 2, 3, 4, 5, 6, 6, 5, 4, 5, 5, 3]': 0.01680672268907563, '[0, 1, 2, 2, 1, 2]': 0.008403361344537815,
                '[0, 1, 2, 2, 1]': 0.01680672268907563, '[0, 1, 2, 2, 3, 1, 2, 3, 4, 4, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 3, 1, 2, 3, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 3, 1, 2, 3, 3, 4, 5, 5, 4, 5, 5]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 3, 1, 2, 3, 4, 4, 3, 2]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 3, 1, 2, 3, 4, 4, 5, 5, 3, 4, 4, 2, 3, 4, 5, 6, 6, 5, 6, 7, 8, 8, 7, 6, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 3, 1]': 0.01680672268907563, '[0, 1, 2, 2, 3, 3, 4, 4, 1, 2, 3, 3, 4, 5, 5, 2]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 3, 4, 4, 1, 2, 3, 3, 4, 5, 5, 4, 5, 5]': 0.008403361344537815, '[0, 1, 2, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 4, 4, 3, 4, 4, 1, 2, 3, 3, 4, 5, 5, 4, 5, 5]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 4, 4, 3, 4, 5, 5, 6, 6, 4, 5, 5, 1, 2, 3, 3, 2]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 4, 4, 5, 6, 6, 5, 6, 6, 1, 2, 2, 3, 4, 4, 5, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 4, 5, 5, 4, 5, 5, 3, 4, 4, 1]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 4, 5, 5, 4, 5, 6, 6, 5, 3, 4, 5, 5, 4, 5, 5, 1, 2]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 4, 5, 5, 6, 6, 4, 5, 5, 3, 4, 5, 6, 6, 5, 6, 6, 4, 5, 5, 6, 6, 1, 2, 3, 3, 2]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 4, 5, 6, 6, 5, 3, 1, 2, 3, 4, 4, 2]': 0.008403361344537815,
                '[0, 1, 2, 2, 3, 4, 5, 6, 7, 7, 6, 7, 7, 5, 4, 5, 6, 7, 7, 6, 7, 7, 5, 3, 4, 5, 6, 7, 7, 6, 5, 4, 1, 2, 3, 4, 4, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 2, 3]': 0.008403361344537815, '[0, 1, 2, 3, 2, 3, 4, 5, 6, 6, 5, 4, 1, 2, 2, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 2, 3, 4, 5, 6, 6, 5, 4, 5, 5, 6, 6, 1, 2, 3, 3, 4, 2]': 0.008403361344537815,
                '[0, 1, 2, 3, 2, 3, 4, 5, 6, 6, 7, 7, 5, 4, 1, 2, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 1, 2, 2]': 0.01680672268907563, '[0, 1, 2, 3, 3, 2, 1, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 1, 2, 3, 4, 4, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 1, 2, 3, 4, 5, 5, 4, 3, 4, 5, 5, 4, 2, 3, 4, 4, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 1, 2]': 0.025210084033613446, '[0, 1, 2, 3, 3, 2, 1]': 0.05042016806722689,
                '[0, 1, 2, 3, 3, 2, 3, 3, 1, 2, 2]': 0.01680672268907563, '[0, 1, 2, 3, 3, 2, 3, 3, 1, 2, 3, 3, 2]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 3, 3, 1, 2, 3, 4, 4, 3, 2, 3, 4, 5, 5, 4, 5, 5, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 3, 3, 1, 2, 3, 4, 4, 3, 4, 4, 2]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 3, 3, 1, 2, 3, 4, 4, 5, 5, 3, 4, 4, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 3, 3, 1]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 3, 3, 4, 4, 1, 2, 3, 3, 4, 4]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 3, 4, 5, 6, 6, 5, 4, 3, 1]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2, 3, 4, 5, 6, 6, 7, 8, 9, 9, 10, 10, 8, 7, 8, 9, 9, 8, 4, 5, 6, 6, 3, 1]': 0.008403361344537815,
                '[0, 1, 2, 3, 3, 2]': 0.008403361344537815, '[0, 1, 2, 3, 3, 4, 4, 2, 3, 4, 4, 3, 4, 4, 1]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 4, 3, 2, 1, 2, 3, 3, 4, 5, 5, 4, 5, 5]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 4, 3, 2, 1, 2, 3, 4, 5, 5, 4, 3, 2]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 4, 3, 2, 1]': 0.01680672268907563, '[0, 1, 2, 3, 4, 4, 3, 2, 3, 4, 4, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 4, 3, 2, 3, 4, 5, 5, 4, 5, 5, 1, 2, 3, 4, 4, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 4, 3, 4, 2, 3, 1, 2, 3, 4, 4, 3, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 4, 3, 4, 5, 6, 6, 4, 2, 3, 4, 5, 6, 6, 5, 3, 1, 2, 3, 3, 2, 3, 4, 5, 5, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 4, 3, 4, 5, 6, 6, 5, 4, 5, 6, 6, 2]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 5, 4, 3, 2, 3, 3, 1]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 5, 4, 3, 2, 3, 4, 5, 6, 6, 7, 7, 5, 3, 1, 2, 3, 3, 2, 3, 4, 4, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 5, 4, 3, 4, 2]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 5, 4, 3, 4, 4, 2, 3, 4, 4, 3, 4, 4]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 5, 4, 5, 5, 3, 4, 4, 2, 3, 4, 5, 5, 4, 5, 6, 5, 3, 4, 4, 1, 2, 3, 4, 5, 5, 4, 5, 5, 3, 4, 4, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 5, 4, 5, 5, 3, 4, 4, 2, 3, 4, 5, 6, 6, 5, 4, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 6, 6, 5, 4, 3, 1]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 6, 6, 5, 4, 3, 2, 1]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 6, 6, 5, 6, 6, 4, 5, 5, 3, 4, 4, 2, 3, 3, 1, 2, 3, 3, 4, 4, 2, 3, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 6, 6, 5, 6, 6, 4, 5, 5, 3, 4, 4, 2, 3, 3, 1, 2, 3, 3, 4, 4, 2, 3, 4, 5, 5, 3]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 6, 6, 5, 6, 6, 4, 5, 5, 3, 4, 5, 6, 6, 5, 4, 2, 3, 3, 1, 2, 2]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 6, 6, 5, 6, 6, 4, 5, 5, 3, 4, 5, 6, 7, 7, 6, 7, 7, 5, 4, 5, 5, 2]': 0.008403361344537815,
                '[0, 1, 2, 3, 4, 5, 6, 7, 7, 6, 5, 4, 5, 5, 3, 4, 4, 2, 3, 3, 1, 2, 2, 3, 4, 5, 5, 4, 5, 5, 3]': 0.008403361344537815}}

equations_with_prior = sample(n=100, prior=prior_2, max_num_variables=100)
for x in equations_with_prior:
    print(x)
